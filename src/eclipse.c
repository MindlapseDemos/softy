#include <stdio.h>
#include <stdlib.h>
#include "perlin.h"
#include "color.h"

#define IMG_X	480
#define IMG_Y	480

static unsigned char gimp_image[256 * 4];
static struct Color *grad = (struct Color*)gimp_image;

extern unsigned int *fb;

int eclipse_init(void)
{
	return 0;
}

void eclipse_run(unsigned int time)
{
	int i, j;
	unsigned int *src = grad;
	unsigned int *dst = fb;
	int xstart = (640 - IMG_X) / 2;
	int ystart = (480 - IMG_Y) / 2;
	
	for(j=0; j<480; j++) {
		for(i=0; i<640; i++) {
			if(i >= xstart && i < xstart + IMG_X) {
				*dst = *src++;
			}
		}
	}
}

static unsigned char gimp_image[256 * 4] = {
	"\377\300\0\377\377\300\0\377\376\277\0\377\376\275\0\377\375\274\0\377\375"
	"\273\0\377\374\272\0\377\374\271\0\377\373\267\0\377\373\266\0\377\372\265"
	"\0\377\372\264\0\377\372\263\0\377\371\262\0\377\370\260\0\377\370\257\0"
	"\377\367\256\0\377\367\254\0\377\366\253\0\377\366\252\0\377\365\251\0\377"
	"\365\247\0\377\364\246\0\377\364\245\0\377\363\244\0\377\363\242\0\377\362"
	"\241\0\377\361\237\0\377\361\236\0\377\360\235\0\377\360\234\0\377\360\233"
	"\0\377\357\232\0\377\357\230\0\377\356\227\0\377\356\226\0\377\355\224\0"
	"\377\354\223\0\377\354\222\0\377\354\220\0\377\353\217\0\377\351\216\0\377"
	"\351\215\0\377\351\214\0\377\350\212\0\377\350\212\0\377\347\210\0\377\346"
	"\206\0\377\346\205\0\377\346\204\0\377\345\202\0\377\345\202\0\377\344\200"
	"\0\377\344\177\0\377\343~\0\377\343}\0\377\342|\0\377\342z\0\377\341y\0\377"
	"\341x\0\377\340w\0\377\340u\0\377\337t\0\377\337r\0\377\336r\0\377\336q\0"
	"\377\335o\0\377\334n\0\377\334m\0\377\333l\0\377\333j\0\377\332i\0\377\332"
	"h\0\377\331f\0\377\330e\0\377\330c\0\377\330b\0\377\327a\0\377\327`\0\377"
	"\326_\0\377\325^\0\377\325\\\0\377\324[\0\377\324Z\0\377\324X\0\377\323W"
	"\0\377\322V\0\377\322T\0\377\321T\0\377\320R\0\377\320Q\0\377\317P\0\377"
	"\317O\0\377\316M\0\377\316L\0\377\315K\0\377\315J\0\377\315H\0\377\314G\0"
	"\377\314F\0\377\313E\0\377\312C\0\377\311B\0\377\311A\0\377\311?\0\377\310"
	"?\0\377\310=\0\377\307<\0\377\307;\0\377\3069\0\377\3068\0\377\3057\0\377"
	"\3055\0\377\3044\0\377\3043\0\377\3032\0\377\3031\0\377\302/\0\377\302.\0"
	"\377\301-\0\377\300+\0\377\300*\0\377\300)\0\377\277(\0\377\276'\0\377\276"
	"%\0\377\275$\0\377\275#\0\377\275\"\0\377\274!\0\377\273\40\0\377\273\36"
	"\0\377\272\35\0\377\272\33\0\377\272\32\0\377\270\31\0\377\270\30\0\377\270"
	"\26\0\377\266\25\0\377\267\24\0\377\265\23\0\377\266\21\0\377\264\20\0\377"
	"\264\17\0\377\264\16\0\377\263\14\0\377\263\13\0\377\263\12\0\377\262\10"
	"\0\377\261\7\0\377\260\6\0\377\260\5\0\377\260\4\0\377\257\3\0\377\257\2"
	"\0\377\256\0\0\377\256\0\0\377\256\0\0\377\256\0\0\377\256\0\0\377\256\0"
	"\0\377\256\0\0\377\256\0\0\377\256\0\0\377\256\0\0\377\256\0\0\377\256\0"
	"\0\377\254\0\0\377\252\0\0\377\251\0\0\377\247\0\0\377\244\0\0\377\244\0"
	"\0\377\241\0\0\377\237\0\0\377\235\0\0\377\234\0\0\377\232\0\0\377\230\0"
	"\0\377\226\0\0\377\224\0\0\377\223\0\0\377\220\0\0\377\216\0\0\377\215\0"
	"\0\377\213\0\0\377\211\0\0\377\210\0\0\377\205\0\0\377\203\0\0\377\202\0"
	"\0\377\200\0\0\377}\0\0\377|\0\0\377z\0\0\377x\0\0\377v\0\0\377t\0\0\377"
	"s\0\0\377p\0\0\377o\0\0\377m\0\0\377k\0\0\377i\0\0\377h\0\0\377f\0\0\377"
	"d\0\0\377b\0\0\377`\0\0\377_\0\0\377]\0\0\377Z\0\0\377Y\0\0\377W\0\0\377"
	"U\0\0\377T\0\0\377R\0\0\377O\0\0\377N\0\0\377K\0\0\377J\0\0\377H\0\0\377"
	"F\0\0\377D\0\0\377C\0\0\377@\0\0\377?\0\0\377<\0\0\377;\0\0\3779\0\0\377"
	"7\0\0\3776\0\0\3774\0\0\3772\0\0\3770\0\0\377.\0\0\377,\0\0\377*\0\0\377"
	"(\0\0\377&\0\0\377%\0\0\377#\0\0\377!\0\0\377\37\0\0\377\35\0\0\377\33\0"
	"\0\377\32\0\0\377\30\0\0\377\26\0\0\377\24\0\0\377\22\0\0\377\20\0\0\377"
	"\16\0\0\377\14\0\0\377\13\0\0\377\11\0\0\377"
};
